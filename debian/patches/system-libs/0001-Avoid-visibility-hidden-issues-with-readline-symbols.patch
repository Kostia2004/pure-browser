From 2318d8c6dd943993281d40885187b3214d85d3fe Mon Sep 17 00:00:00 2001
From: Mike Hommey <glandium@debian.org>
Date: Sat, 8 Dec 2007 16:34:50 +0100
Subject: [PATCH] Avoid visibility hidden issues with readline symbols

https://bugzilla.mozilla.org/show_bug.cgi?id=331776
---
 js/src/xpconnect/shell/xpcshell.cpp |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/js/src/xpconnect/shell/xpcshell.cpp b/js/src/xpconnect/shell/xpcshell.cpp
index 99ee4f8..c07fb93 100644
--- a/js/src/xpconnect/shell/xpcshell.cpp
+++ b/js/src/xpconnect/shell/xpcshell.cpp
@@ -240,8 +240,8 @@ GetLocationProperty(JSContext *cx, JSObject *obj, jsval id, jsval *vp)
 
 #ifdef EDITLINE
 extern "C" {
-extern char     *readline(const char *prompt);
-extern void     add_history(char *line);
+extern JS_EXPORT_API(char)     *readline(const char *prompt);
+extern JS_EXPORT_API(void)     add_history(char *line);
 }
 #endif
 
-- 
1.7.0.rc0.69.g2ee80

