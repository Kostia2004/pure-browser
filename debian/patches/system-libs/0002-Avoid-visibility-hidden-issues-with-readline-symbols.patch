From: Mike Hommey <glandium@debian.org>
Date: Sat, 8 Dec 2007 16:34:50 +0100
Subject: Avoid visibility hidden issues with readline symbols

https://bugzilla.mozilla.org/show_bug.cgi?id=331776
---
 js/src/xpconnect/shell/xpcshell.cpp |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/js/src/xpconnect/shell/xpcshell.cpp b/js/src/xpconnect/shell/xpcshell.cpp
index 9bc725a..ba5044c 100644
--- a/js/src/xpconnect/shell/xpcshell.cpp
+++ b/js/src/xpconnect/shell/xpcshell.cpp
@@ -813,8 +813,8 @@ my_GetErrorMessage(void *userRef, const char *locale, const uintN errorNumber)
 
 #ifdef EDITLINE
 extern "C" {
-extern char     *readline(const char *prompt);
-extern void     add_history(char *line);
+extern JS_EXPORT_API(char)     *readline(const char *prompt);
+extern JS_EXPORT_API(void)     add_history(char *line);
 }
 #endif
 
-- 
1.7.0.rc0.69.g2ee80

