From: Mike Hommey <mh@glandium.org>
Date: Wed, 21 Aug 2013 22:05:15 +0900
Subject: Bug 901208 - Fixups landed upstream

---
 gfx/skia/patches/0026-Bug-901208-Fix-ARM-v4t.patch | 8 ++++----
 gfx/skia/src/opts/SkBlitRow_opts_arm.cpp           | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/gfx/skia/patches/0026-Bug-901208-Fix-ARM-v4t.patch b/gfx/skia/patches/0026-Bug-901208-Fix-ARM-v4t.patch
index 25d2a72..5c95b54 100644
--- a/gfx/skia/patches/0026-Bug-901208-Fix-ARM-v4t.patch
+++ b/gfx/skia/patches/0026-Bug-901208-Fix-ARM-v4t.patch
@@ -10,7 +10,7 @@ diff --git a/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp b/gfx/skia/src/opts/SkBlit
                    "and     r4, r3, #0x0000f8            \n\t"
                    "and     r5, r3, #0x00fc00            \n\t"
                    "and     r6, r3, #0xf80000            \n\t"
-+#if SK_ARM_ARCH >= 6
++#ifdef SK_ARM_HAS_EDSP
                    "pld     [r1, #32]                    \n\t"
 +#endif
                    "lsl     r3, r4, #8                   \n\t"
@@ -33,7 +33,7 @@ diff --git a/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp b/gfx/skia/src/opts/SkBlit
  #else
                    "ubfx    r5, r4, #5, #6               \n\t"
  #endif
-+#if SK_ARM_ARCH >= 6
++#ifdef SK_ARM_HAS_EDSP
                    "pld     [r0, #16]                    \n\t"
 +#endif
                    "lsr     r4, r4, #11                  \n\t"
@@ -46,7 +46,7 @@ diff --git a/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp b/gfx/skia/src/opts/SkBlit
                    "mul     r5, r5, r7                   \n\t"
                    "mul     r4, r4, r7                   \n\t"
  #endif
-+#ifdef SK_ARM_ARCH >= 6
++#if SK_ARM_ARCH >= 6
                    "uxtb    r7, r3, ROR #16              \n\t"
                    "uxtb    ip, r3, ROR #8               \n\t"
 +#else
@@ -70,7 +70,7 @@ diff --git a/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp b/gfx/skia/src/opts/SkBlit
                    "orr     r6, r6, r5, lsl #3           \n\t"
                    "orr     r4, r6, r4, lsl #8           \n\t"
                    "strh    r4, [%[dst]], #2             \n\t"
-+#if SK_ARM_ARCH >= 6
++#ifdef SK_ARM_HAS_EDSP
                    "pld     [r1, #32]                    \n\t"
 +#endif
                    "subs    %[count], %[count], #1       \n\t"
diff --git a/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp b/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp
index d061f73..b2fbf9f 100644
--- a/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp
+++ b/gfx/skia/src/opts/SkBlitRow_opts_arm.cpp
@@ -31,7 +31,7 @@ static void S32A_D565_Opaque(uint16_t* SK_RESTRICT dst,
                   "and     r4, r3, #0x0000f8            \n\t"
                   "and     r5, r3, #0x00fc00            \n\t"
                   "and     r6, r3, #0xf80000            \n\t"
-#if SK_ARM_ARCH >= 6
+#ifdef SK_ARM_HAS_EDSP
                   "pld     [r1, #32]                    \n\t"
 #endif
                   "lsl     r3, r4, #8                   \n\t"
@@ -53,7 +53,7 @@ static void S32A_D565_Opaque(uint16_t* SK_RESTRICT dst,
 #else
                   "ubfx    r5, r4, #5, #6               \n\t"
 #endif
-#if SK_ARM_ARCH >= 6
+#ifdef SK_ARM_HAS_EDSP
                   "pld     [r0, #16]                    \n\t"
 #endif
                   "lsr     r4, r4, #11                  \n\t"
@@ -66,7 +66,7 @@ static void S32A_D565_Opaque(uint16_t* SK_RESTRICT dst,
                   "mul     r5, r5, r7                   \n\t"
                   "mul     r4, r4, r7                   \n\t"
 #endif
-#ifdef SK_ARM_ARCH >= 6
+#if SK_ARM_ARCH >= 6
                   "uxtb    r7, r3, ROR #16              \n\t"
                   "uxtb    ip, r3, ROR #8               \n\t"
 #else
@@ -90,7 +90,7 @@ static void S32A_D565_Opaque(uint16_t* SK_RESTRICT dst,
                   "orr     r6, r6, r5, lsl #3           \n\t"
                   "orr     r4, r6, r4, lsl #8           \n\t"
                   "strh    r4, [%[dst]], #2             \n\t"
-#if SK_ARM_ARCH >= 6
+#ifdef SK_ARM_HAS_EDSP
                   "pld     [r1, #32]                    \n\t"
 #endif
                   "subs    %[count], %[count], #1       \n\t"
