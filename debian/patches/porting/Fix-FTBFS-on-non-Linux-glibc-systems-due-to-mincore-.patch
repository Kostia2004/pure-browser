From: Samuel Thibault <sthibault@debian.org>
Date: Tue, 25 Jun 2013 18:44:11 +0900
Subject: Fix FTBFS on non-Linux glibc systems due to mincore prototype
 discrepancy

Closes: #697891
---
 js/src/vm/Stack.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/js/src/vm/Stack.cpp b/js/src/vm/Stack.cpp
index bafef2c..09bcde3 100644
--- a/js/src/vm/Stack.cpp
+++ b/js/src/vm/Stack.cpp
@@ -795,8 +795,8 @@ StackSpace::sizeOf()
     size_t numBytes = (trustedEnd_ - base_) * sizeof(Value);
     size_t numPages = (numBytes + pageSize - 1) / pageSize;
 
-    // On Linux, mincore's third argument has type unsigned char*.
-#ifdef __linux__
+    // With glibc, mincore's third argument has type unsigned char*.
+#ifdef __GLIBC__
     typedef unsigned char MincoreArgType;
 #else
     typedef char MincoreArgType;
