From: Mike Hommey <mh@glandium.org>
Date: Tue, 22 Mar 2011 17:19:23 +0100
Subject: Fix FTBFS in xpcom/base on armv4t

https://bugzilla.mozilla.org/show_bug.cgi?id=643779
---
 xpcom/base/nsDebugImpl.cpp |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/xpcom/base/nsDebugImpl.cpp b/xpcom/base/nsDebugImpl.cpp
index 82bf74d..2da1fe6 100644
--- a/xpcom/base/nsDebugImpl.cpp
+++ b/xpcom/base/nsDebugImpl.cpp
@@ -407,7 +407,7 @@ RealBreak()
    raise(SIGTRAP);
 #elif defined(__GNUC__) && (defined(__i386__) || defined(__i386) || defined(__x86_64__))
    asm("int $3");
-#elif defined(__arm__)
+#elif defined(__arm__) && (__ARM_ARCH__ >= 5)
    asm("BKPT #0");
 #elif defined(SOLARIS)
 #if defined(__i386__) || defined(__i386) || defined(__x86_64__)
