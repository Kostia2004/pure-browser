From f8bfb9846be4afecf688726f799145dfeda0b0c5 Mon Sep 17 00:00:00 2001
From: Mike Hommey <mh@glandium.org>
Date: Sun, 24 Jan 2010 09:39:56 +0100
Subject: [PATCH 05/11] Cleanup idl-parser leftovers in make clean

https://bugzilla.mozilla.org/show_bug.cgi?id=541774
---
 js/src/xpconnect/src/Makefile.in |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/js/src/xpconnect/src/Makefile.in b/js/src/xpconnect/src/Makefile.in
index 030bc64..f73519f 100644
--- a/js/src/xpconnect/src/Makefile.in
+++ b/js/src/xpconnect/src/Makefile.in
@@ -217,7 +217,7 @@ dom_quickstubs.cpp: $(srcdir)/dom_quickstubs.qsconf \
 	  -I$(topsrcdir)/xpcom/idl-parser \
 	  $(srcdir)/qsgen.py \
 	  --idlpath=$(DEPTH)/dist/idl \
-	  --cachedir=$(DEPTH)/xpcom/idl-parser \
+	  --cachedir=$(DEPTH)/xpcom/idl-parser/cache \
 	  --header-output dom_quickstubs.h \
 	  --stub-output dom_quickstubs.cpp \
 	  --makedepend-output $(MDDEPDIR)/dom_qsgen.pp \
@@ -228,4 +228,8 @@ GARBAGE += \
 		dom_quickstubs.h \
 		dom_quickstubs.cpp \
 		$(MDDEPDIR)/dom_qsgen.pp \
+		$(wildcard $(topsrcdir)/other-licenses/ply/ply/*.pyc) \
+		$(wildcard $(topsrcdir)/xpcom/idl-parser/*.pyc) \
 		$(NULL)
+
+GARBAGE_DIRS += $(DEPTH)/xpcom/idl-parser/cache
-- 
1.7.0.rc0.69.g2ee80

