From 00f7593abddee16617bf4d446174beb60daff107 Mon Sep 17 00:00:00 2001
From: Mike Hommey <glandium@debian.org>
Date: Thu, 19 Jun 2008 23:54:50 +0200
Subject: [PATCH 21/44] Force to not use -fshort-wchar

---
 configure.in        |    2 +-
 js/src/configure.in |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/configure.in b/configure.in
index 1320dcf..b9eec32 100644
--- a/configure.in
+++ b/configure.in
@@ -2849,7 +2849,7 @@ AC_CACHE_CHECK(for usable wchar_t (2 bytes, unsigned),
 if test "$ac_cv_have_usable_wchar_v2" = "yes"; then
     AC_DEFINE(HAVE_CPP_2BYTE_WCHAR_T)
     HAVE_CPP_2BYTE_WCHAR_T=1
-else
+elif false; then
 dnl This is really gcc-only
 dnl Do this test using CXX only since some versions of gcc
 dnl 2.95-2.97 have a signed wchar_t in c++ only and some versions
diff --git a/js/src/configure.in b/js/src/configure.in
index 206e3ee..227a8a1 100644
--- a/js/src/configure.in
+++ b/js/src/configure.in
@@ -2731,7 +2731,7 @@ AC_CACHE_CHECK(for usable wchar_t (2 bytes, unsigned),
 if test "$ac_cv_have_usable_wchar_v2" = "yes"; then
     AC_DEFINE(HAVE_CPP_2BYTE_WCHAR_T)
     HAVE_CPP_2BYTE_WCHAR_T=1
-else
+elif false; then
 dnl This is really gcc-only
 dnl Do this test using CXX only since some versions of gcc
 dnl 2.95-2.97 have a signed wchar_t in c++ only and some versions
-- 
1.7.0.rc0.69.g2ee80

