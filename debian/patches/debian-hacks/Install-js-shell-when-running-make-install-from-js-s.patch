From: Mike Hommey <mh@glandium.org>
Date: Fri, 26 Feb 2010 16:25:15 +0100
Subject: Install js shell when running make install from js/src

---
 js/src/Makefile.in       |    1 +
 js/src/shell/Makefile.in |    3 +++
 2 files changed, 4 insertions(+)

diff --git a/js/src/Makefile.in b/js/src/Makefile.in
index f06fb85..333cba6 100644
--- a/js/src/Makefile.in
+++ b/js/src/Makefile.in
@@ -809,6 +809,7 @@ endif
 ifneq (,$(IMPORT_LIBRARY))
 	$(SYSINSTALL) $(IMPORT_LIBRARY) $(DESTDIR)$(libdir)
 endif
+	$(MAKE) -C shell install
 
 # Extra dependancies and rules for auto-generated headers
 host_jskwgen.$(OBJ_SUFFIX): jsversion.h jskeyword.tbl
diff --git a/js/src/shell/Makefile.in b/js/src/shell/Makefile.in
index cf27c4d..7b52097 100644
--- a/js/src/shell/Makefile.in
+++ b/js/src/shell/Makefile.in
@@ -81,3 +81,6 @@ endif
 # People expect the js shell to wind up in the top-level JS dir.
 libs::
 	$(INSTALL) $(IFLAGS2) $(PROGRAM) $(DEPTH)
+
+install:: $(PROGRAM)
+	$(SYSINSTALL) $^ $(DESTDIR)$(bindir)
