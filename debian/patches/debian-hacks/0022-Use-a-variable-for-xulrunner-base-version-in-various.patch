From: Mike Hommey <glandium@debian.org>
Date: Mon, 14 Jul 2008 15:20:46 +0200
Subject: Use a variable for xulrunner base version in various places

---
 config/autoconf.mk.in           |    9 +++++----
 xulrunner/installer/Makefile.in |    6 +++---
 2 files changed, 8 insertions(+), 7 deletions(-)

diff --git a/config/autoconf.mk.in b/config/autoconf.mk.in
index 9981316..686acd0 100644
--- a/config/autoconf.mk.in
+++ b/config/autoconf.mk.in
@@ -52,20 +52,21 @@ MOZ_APP_NAME	= @MOZ_APP_NAME@
 MOZ_APP_DISPLAYNAME = @MOZ_APP_DISPLAYNAME@
 MOZ_APP_VERSION = @MOZ_APP_VERSION@
 MOZ_APP_UA_EXTRA = @MOZ_APP_UA_EXTRA@
+MOZ_BASE_VERSION = 1.9.2
 
 MOZ_PKG_SPECIAL = @MOZ_PKG_SPECIAL@
 
 prefix		= @prefix@
 exec_prefix	= @exec_prefix@
 bindir		= @bindir@
-includedir	= @includedir@/$(MOZ_APP_NAME)-$(MOZ_APP_VERSION)
+includedir	= @includedir@/$(MOZ_APP_NAME)-$(MOZ_BASE_VERSION)
 libdir		= @libdir@
 datadir		= @datadir@
 mandir		= @mandir@
-idldir		= $(datadir)/idl/$(MOZ_APP_NAME)-$(MOZ_APP_VERSION)
+idldir		= $(datadir)/idl/$(MOZ_APP_NAME)-$(MOZ_BASE_VERSION)
 
-installdir	= $(libdir)/$(MOZ_APP_NAME)-$(MOZ_APP_VERSION)
-sdkdir		= $(libdir)/$(MOZ_APP_NAME)-devel-$(MOZ_APP_VERSION)
+installdir	= $(libdir)/$(MOZ_APP_NAME)-$(MOZ_BASE_VERSION)
+sdkdir		= $(libdir)/$(MOZ_APP_NAME)-devel-$(MOZ_BASE_VERSION)
 
 DIST		= $(DEPTH)/dist
 LIBXUL_SDK      = @LIBXUL_SDK@
diff --git a/xulrunner/installer/Makefile.in b/xulrunner/installer/Makefile.in
index a065b63..b8a25cc 100644
--- a/xulrunner/installer/Makefile.in
+++ b/xulrunner/installer/Makefile.in
@@ -67,7 +67,7 @@ INSTALL_SDK = 1
 
 include $(topsrcdir)/toolkit/mozapps/installer/packager.mk
 
-$(MOZILLA_VERSION).system.conf: $(topsrcdir)/config/milestone.txt Makefile
+$(MOZ_BASE_VERSION).system.conf: $(topsrcdir)/config/milestone.txt Makefile
 	printf "[%s]\nGRE_PATH=%s\nxulrunner=true\nabi=%s" \
 	  $(MOZILLA_VERSION) $(installdir) $(TARGET_XPCOM_ABI)> $@
 
@@ -75,7 +75,7 @@ ifndef SKIP_GRE_REGISTRATION
 # to register xulrunner per-user, override this with $HOME/.gre.d
 regdir = /etc/gre.d
 
-install:: $(MOZILLA_VERSION).system.conf
+install:: $(MOZ_BASE_VERSION).system.conf
 	$(NSINSTALL) -D $(DESTDIR)$(regdir)
 	$(SYSINSTALL) $(IFLAGS1) $^ $(DESTDIR)$(regdir)
 endif
@@ -134,7 +134,7 @@ install:: $(pkg_config_files)
 	@echo pkg_config_file: $(pkg_config_files)
 	$(SYSINSTALL) $(IFLAGS1) $^ $(DESTDIR)$(libdir)/pkgconfig
 
-GARBAGE += $(MOZILLA_VERSION).system.conf $(pkg_config_files)
+GARBAGE += $(MOZ_BASE_VERSION).system.conf $(pkg_config_files)
 
 GARBAGE += debian/changelog
 
