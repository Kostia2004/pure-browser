From: Mike Hommey <mh+mozilla@glandium.org>
Date: Mon, 20 Feb 2012 08:04:38 +0100
Subject: Bug 728656 - Avoid crashing when there are no GL extensions reported
 by the GL implementation. r=bjacob

---
 gfx/thebes/GLContext.cpp |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/gfx/thebes/GLContext.cpp b/gfx/thebes/GLContext.cpp
index b4f2363..addd8a5 100644
--- a/gfx/thebes/GLContext.cpp
+++ b/gfx/thebes/GLContext.cpp
@@ -485,6 +485,9 @@ GLContext::InitExtensions()
 {
     MakeCurrent();
     const GLubyte *extensions = fGetString(LOCAL_GL_EXTENSIONS);
+    if (!extensions)
+        return;
+
     char *exts = strdup((char *)extensions);
 
 #ifdef DEBUG
