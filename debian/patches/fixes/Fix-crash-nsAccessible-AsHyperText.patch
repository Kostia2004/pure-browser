From: Mike Hommey <mh@glandium.org>
Date: Fri, 25 Mar 2011 20:11:07 +0100
Subject: Fix crash @nsAccessible::AsHyperText()

https://bugzilla.mozilla.org/show_bug.cgi?id=643906
---
 accessible/src/base/TextUpdater.cpp |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

diff --git a/accessible/src/base/TextUpdater.cpp b/accessible/src/base/TextUpdater.cpp
index f12a715..8e4dca1 100644
--- a/accessible/src/base/TextUpdater.cpp
+++ b/accessible/src/base/TextUpdater.cpp
@@ -70,7 +70,10 @@ TextUpdater::DoUpdate(const nsAString& aNewText, const nsAString& aOldText,
                       PRUint32 aSkipStart)
 {
   nsAccessible* parent = mTextLeaf->GetParent();
-  NS_ASSERTION(parent, "No parent for text leaf!");
+  if (!parent) {
+    NS_ERROR("No parent for text leaf!");
+    return;
+  }
 
   mHyperText = parent->AsHyperText();
   if (!mHyperText) {
