From: Mike Hommey <mh+mozilla@glandium.org>
Date: Thu, 14 Jul 2011 18:14:47 +0200
Subject: Bug 671576 - Cleanup temporary files from test_libPrefs.js

---
 modules/libpref/test/unit/test_libPrefs.js |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/modules/libpref/test/unit/test_libPrefs.js b/modules/libpref/test/unit/test_libPrefs.js
index 4ced2a2..0dfe3dc 100644
--- a/modules/libpref/test/unit/test_libPrefs.js
+++ b/modules/libpref/test/unit/test_libPrefs.js
@@ -360,6 +360,8 @@ function run_test() {
 
   // loading our former savePrefFile should allow us to read former prefs
   ps.readUserPrefs(savePrefFile);
+  // cleanup the file now we don't need it
+  savePrefFile.remove(false);
   do_check_eq(ps.getBoolPref("ReadPref.bool"), true);
   do_check_eq(ps.getIntPref("ReadPref.int"), 230);
   do_check_eq(ps.getCharPref("ReadPref.char"), "hello");
