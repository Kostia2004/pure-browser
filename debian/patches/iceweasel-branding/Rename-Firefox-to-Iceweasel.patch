From: Eric Dorland <eric@debian.org>
Date: Sun, 23 Mar 2008 00:19:14 -0400
Subject: Rename Firefox to Iceweasel

---
 browser/base/content/credits.xhtml                 |   11 ++---------
 browser/components/nsBrowserGlue.js                |    2 +-
 .../en-US/chrome/overrides/appstrings.properties   |   20 ++++++++++----------
 browser/locales/en-US/searchplugins/answers.xml    |    2 +-
 browser/locales/en-US/searchplugins/google.xml     |    6 +++---
 5 files changed, 17 insertions(+), 24 deletions(-)

diff --git a/browser/base/content/credits.xhtml b/browser/base/content/credits.xhtml
index d3e78e6..558e10d 100644
--- a/browser/base/content/credits.xhtml
+++ b/browser/base/content/credits.xhtml
@@ -209,7 +209,7 @@
     </div>
 
     <div id="creditsBox">
-        <h2 class="title" dir="&locale.dir;">&brandFullName;&trade;
+        <h2 class="title" dir="&locale.dir;">&brandFullName;
           <div class="motto">&brandMotto;</div>
         </h2>
         <div class="links" dir="&locale.dir;">
@@ -625,20 +625,13 @@
         <p id="gecko" class="center" dir="&locale.dir;">&credit.poweredByGeckoReg;</p>
 
         <p class="footnote" dir="&locale.dir;">
-          &brandFullName;&trade; &license.part0; &copy;1998-2010 &license.part1;
+          &brandFullName; &license.part0; &copy;1998-2010 &license.part1;
           <a href="" link="about:credits" onclick="visitLink(event);">&license.contrib;</a>,
           &license.part2;
           <a href="" link="about:license" onclick="visitLink(event);">about:license</a>
           &license.part3;</p>
 
         <p class="footnote">
-          Mozilla Firefox&reg; and the Firefox logo are registered trademarks of the
-          Mozilla Foundation. You are not granted rights or licenses to the trademarks
-          of the Mozilla Foundation or any party, including without limitation the
-          Firefox name or logo. Gecko&reg; is a registered trademark of Netscape
-          Communications Corporation.</p>
-
-        <p class="footnote">
           U.S. GOVERNMENT END USERS. The Software is a &ldquo;commercial item,&rdquo;
           as that term is defined in 48 C.F.R. 2.101 (Oct. 1995), consisting of
           &ldquo;commercial computer software&rdquo; and &ldquo;commercial computer software
diff --git a/browser/components/nsBrowserGlue.js b/browser/components/nsBrowserGlue.js
index 6624b62..9293447 100644
--- a/browser/components/nsBrowserGlue.js
+++ b/browser/components/nsBrowserGlue.js
@@ -1087,7 +1087,7 @@ BrowserGlue.prototype = {
 
 
   // for XPCOM
-  classDescription: "Firefox Browser Glue Service",
+  classDescription: "Iceweasel Browser Glue Service",
   classID:          Components.ID("{eab9012e-5f74-4cbc-b2b5-a590235513cc}"),
   contractID:       "@mozilla.org/browser/browserglue;1",
 
diff --git a/browser/locales/en-US/chrome/overrides/appstrings.properties b/browser/locales/en-US/chrome/overrides/appstrings.properties
index adecd76..ecf35b5 100644
--- a/browser/locales/en-US/chrome/overrides/appstrings.properties
+++ b/browser/locales/en-US/chrome/overrides/appstrings.properties
@@ -35,23 +35,23 @@
 # ***** END LICENSE BLOCK *****
 
 malformedURI=The URL is not valid and cannot be loaded.
-fileNotFound=Firefox can't find the file at %S.
-dnsNotFound=Firefox can't find the server at %S.
-protocolNotFound=Firefox doesn't know how to open this address, because the protocol (%S) isn't associated with any program.
-connectionFailure=Firefox can't establish a connection to the server at %S.
+fileNotFound=Iceweasel can't find the file at %S.
+dnsNotFound=Iceweasel can't find the server at %S.
+protocolNotFound=Iceweasel doesn't know how to open this address, because the protocol (%S) isn't associated with any program.
+connectionFailure=Iceweasel can't establish a connection to the server at %S.
 netInterrupt=The connection to %S was interrupted while the page was loading.
 netTimeout=The server at %S is taking too long to respond.
-redirectLoop=Firefox has detected that the server is redirecting the request for this address in a way that will never complete.
+redirectLoop=Iceweasel has detected that the server is redirecting the request for this address in a way that will never complete.
 ## LOCALIZATION NOTE (confirmRepostPrompt): In this item, don't translate "%S"
 confirmRepostPrompt=To display this page, %S must send information that will repeat any action (such as a search or order confirmation) that was performed earlier.
 resendButton.label=Resend
-unknownSocketType=Firefox doesn't know how to communicate with the server.
+unknownSocketType=Iceweasel doesn't know how to communicate with the server.
 netReset=The connection to the server was reset while the page was loading.
-netOffline=Firefox is currently in offline mode and can't browse the Web.
+netOffline=Iceweasel is currently in offline mode and can't browse the Web.
 isprinting=The document cannot change while Printing or in Print Preview.
-deniedPortAccess=This address uses a network port which is normally used for purposes other than Web browsing. Firefox has canceled the request for your protection.
-proxyResolveFailure=Firefox is configured to use a proxy server that can't be found.
-proxyConnectFailure=Firefox is configured to use a proxy server that is refusing connections.
+deniedPortAccess=This address uses a network port which is normally used for purposes other than Web browsing. Iceweasel has canceled the request for your protection.
+proxyResolveFailure=Iceweasel is configured to use a proxy server that can't be found.
+proxyConnectFailure=Iceweasel is configured to use a proxy server that is refusing connections.
 contentEncodingError=The page you are trying to view cannot be shown because it uses an invalid or unsupported form of compression.
 unsafeContentType=The page you are trying to view cannot be shown because it is contained in a file type that may not be safe to open. Please contact the website owners to inform them of this problem.
 externalProtocolTitle=External Protocol Request
diff --git a/browser/locales/en-US/searchplugins/answers.xml b/browser/locales/en-US/searchplugins/answers.xml
index ea32303..bd959d3 100644
--- a/browser/locales/en-US/searchplugins/answers.xml
+++ b/browser/locales/en-US/searchplugins/answers.xml
@@ -8,6 +8,6 @@
   <Param name="gwp" value="13"/>
 </Url>
 <Url type="application/x-suggestions+json" method="GET"
-     template="http://www.answers.com/main/startswith?output=json&amp;client=firefox&amp;s={searchTerms}"/>
+     template="http://www.answers.com/main/startswith?output=json&amp;client=iceweasel&amp;s={searchTerms}"/>
 <SearchForm>http://www.answers.com/</SearchForm>
 </SearchPlugin>
diff --git a/browser/locales/en-US/searchplugins/google.xml b/browser/locales/en-US/searchplugins/google.xml
index 790ed34..265750d 100644
--- a/browser/locales/en-US/searchplugins/google.xml
+++ b/browser/locales/en-US/searchplugins/google.xml
@@ -3,7 +3,7 @@
 <Description>Google Search</Description>
 <InputEncoding>UTF-8</InputEncoding>
 <Image width="16" height="16" type="image/x-icon">http://www.google.com/favicon.ico</Image>
-<Url type="application/x-suggestions+json" method="GET" template="http://suggestqueries.google.com/complete/search?output=firefox&amp;client=firefox&amp;hl={moz:locale}&amp;q={searchTerms}"/>
+<Url type="application/x-suggestions+json" method="GET" template="http://suggestqueries.google.com/complete/search?output=firefox&amp;hl={moz:locale}&amp;q={searchTerms}"/>
 <Url type="text/html" method="GET" template="http://www.google.com/search">
   <Param name="q" value="{searchTerms}"/>
   <Param name="ie" value="utf-8"/>
@@ -11,7 +11,7 @@
   <Param name="aq" value="t"/>
   <!-- Dynamic parameters -->
   <Param name="rls" value="{moz:distributionID}:{moz:locale}:{moz:official}"/>
-  <MozParam name="client" condition="defaultEngine" trueValue="firefox-a" falseValue="firefox"/>
+  <MozParam name="client" condition="defaultEngine" trueValue="iceweasel-a" falseValue="iceweasel"/>
 </Url>
-<SearchForm>http://www.google.com/firefox</SearchForm>
+<SearchForm>http://www.google.com/</SearchForm>
 </SearchPlugin>
