# Branding Makefile
#  - jars chrome artwork

DEPTH = ../../..
topsrcdir = @top_srcdir@
srcdir = @srcdir@
VPATH = @srcdir@

include $(DEPTH)/config/autoconf.mk

CHROME_DEPS := aboutCredits.png about.png icon48.png icon64.png
GARBAGE += $(CHROME_DEPS)

include $(topsrcdir)/config/rules.mk

aboutCredits.png.0 about.png.0: %.0: $(srcdir)/%.uu
	uudecode -o $@ $<
GARBAGE += aboutCredits.png.0 about.png.0

aboutCredits.png: %: ../mozicon128.png %.0
	composite -compose src-over -gravity center -geometry +0-7 \
		$^ $@

about.png: %: ../iceweasel_logo.png %.0
	composite -compose src-over -gravity center -geometry +0-26 \
		$^ $@

icon64.png: ../default64.png
icon48.png: ../default48.png
icon%.png:
	cp -f $^ $@

../%.png:
	$(MAKE) -C .. $(notdir $@)
